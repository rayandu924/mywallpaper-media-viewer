{
  "name": "Media Viewer",
  "version": "2.3.6",
  "sdkVersion": "2.17.0",
  "description": "Universal media display widget supporting images, videos, audio files, GIFs, and video platforms (YouTube, Vimeo, Twitch, Dailymotion).",
  "author": "MyWallpaper Community",
  "categories": ["media", "utilities", "display"],
  "icon": "icon.svg",
  "capabilities": {
    "hotReload": true,
    "systemEvents": ["viewport:resize", "theme:change", "visibility:change"]
  },
  "permissions": {
    "storage": { "quota": 256 },
    "network": {
      "domains": ["*"]
    },
    "audio": true
  },
  "settings": {
    "mediaSection": {
      "type": "section",
      "label": "Media Source"
    },
    "sourceType": {
      "type": "select",
      "label": "Source Type",
      "description": "Choose how to provide the media",
      "default": "url",
      "options": [
        { "value": "url", "label": "From URL" },
        { "value": "file", "label": "Upload File" }
      ]
    },
    "mediaUrl": {
      "type": "string",
      "label": "Media URL",
      "description": "Direct link to image/video/audio, or YouTube/Vimeo/Twitch/Dailymotion URL",
      "default": "",
      "placeholder": "https://youtube.com/watch?v=... or https://example.com/video.mp4",
      "showIf": { "setting": "sourceType", "equals": "url" }
    },
    "mediaFile": {
      "type": "file",
      "label": "Upload Media",
      "description": "Upload a local image, video, or audio file",
      "showIf": { "setting": "sourceType", "equals": "file" }
    },
    "displaySection": {
      "type": "section",
      "label": "Display Options"
    },
    "objectFit": {
      "type": "select",
      "label": "Scaling Mode",
      "description": "How the media should fit within the widget",
      "default": "contain",
      "options": [
        { "value": "contain", "label": "Fit (show all)" },
        { "value": "cover", "label": "Cover (fill area)" },
        { "value": "fill", "label": "Stretch" },
        { "value": "none", "label": "Original Size" },
        { "value": "scale-down", "label": "Scale Down Only" }
      ]
    },
    "objectPosition": {
      "type": "select",
      "label": "Position",
      "description": "Alignment when media doesn't fill the widget",
      "default": "center",
      "options": [
        { "value": "center", "label": "Center" },
        { "value": "top", "label": "Top" },
        { "value": "bottom", "label": "Bottom" },
        { "value": "left", "label": "Left" },
        { "value": "right", "label": "Right" },
        { "value": "top left", "label": "Top Left" },
        { "value": "top right", "label": "Top Right" },
        { "value": "bottom left", "label": "Bottom Left" },
        { "value": "bottom right", "label": "Bottom Right" }
      ]
    },
    "backgroundColor": {
      "type": "color",
      "label": "Background Color",
      "description": "Color shown behind the media or as fallback",
      "default": "#00000000"
    },
    "borderRadius": {
      "type": "range",
      "label": "Corner Radius",
      "description": "Rounded corners (in pixels)",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 0
    },
    "videoSection": {
      "type": "section",
      "label": "Playback Options"
    },
    "autoplay": {
      "type": "boolean",
      "label": "Autoplay",
      "description": "Start playback automatically",
      "default": true
    },
    "loop": {
      "type": "boolean",
      "label": "Loop",
      "description": "Repeat media when it ends",
      "default": true
    },
    "muted": {
      "type": "boolean",
      "label": "Muted",
      "description": "Play without sound (required for autoplay in most browsers)",
      "default": true
    },
    "volume": {
      "type": "range",
      "label": "Volume",
      "description": "Audio volume level (0-100%)",
      "min": 0,
      "max": 100,
      "step": 5,
      "default": 80
    },
    "showControls": {
      "type": "boolean",
      "label": "Show Controls",
      "description": "Display playback controls (direct videos/audio only)",
      "default": false
    },
    "playbackRate": {
      "type": "range",
      "label": "Playback Speed",
      "description": "Playback speed multiplier (direct media only)",
      "min": 0.25,
      "max": 2,
      "step": 0.25,
      "default": 1
    },
    "effectsSection": {
      "type": "section",
      "label": "Visual Effects"
    },
    "opacity": {
      "type": "range",
      "label": "Opacity",
      "description": "Media transparency (0-100%)",
      "min": 0,
      "max": 100,
      "step": 1,
      "default": 100
    },
    "blur": {
      "type": "range",
      "label": "Blur",
      "description": "Gaussian blur effect (in pixels)",
      "min": 0,
      "max": 50,
      "step": 1,
      "default": 0
    },
    "brightness": {
      "type": "range",
      "label": "Brightness",
      "description": "Brightness adjustment (100% = normal)",
      "min": 0,
      "max": 200,
      "step": 5,
      "default": 100
    },
    "contrast": {
      "type": "range",
      "label": "Contrast",
      "description": "Contrast adjustment (100% = normal)",
      "min": 0,
      "max": 200,
      "step": 5,
      "default": 100
    },
    "saturate": {
      "type": "range",
      "label": "Saturation",
      "description": "Color saturation (100% = normal, 0% = grayscale)",
      "min": 0,
      "max": 200,
      "step": 5,
      "default": 100
    },
    "hueRotate": {
      "type": "range",
      "label": "Hue Rotate",
      "description": "Shift all colors around the color wheel (in degrees)",
      "min": 0,
      "max": 360,
      "step": 15,
      "default": 0
    },
    "advancedSection": {
      "type": "section",
      "label": "Advanced"
    },
    "fallbackText": {
      "type": "string",
      "label": "Fallback Text",
      "description": "Text shown when media fails to load",
      "default": "Media unavailable"
    },
    "refreshInterval": {
      "type": "range",
      "label": "Auto-Refresh (minutes)",
      "description": "Reload media periodically (0 = disabled). Useful for webcams or updating images.",
      "min": 0,
      "max": 60,
      "step": 1,
      "default": 0,
      "showIf": { "setting": "sourceType", "equals": "url" }
    }
  },
  "defaultLayout": {
    "xPercent": 50,
    "yPercent": 50,
    "widthPercent": 40,
    "heightPercent": 50
  }
}
